{"remainingRequest":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\src\\components\\Search.vue?vue&type=style&index=0&id=7cb41050&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\src\\components\\Search.vue","mtime":1618010051665},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KbWFpbnsNCiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCAiSGVsdmV0aWNhIE5ldWUiLCBBcmlhbCwgc2Fucy1zZXJpZiwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7DQogIGZvbnQtc2l6ZTogMS4xcmVtOw0KfQ0KLnNlYXJjaCB7DQogIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBtYXJnaW46IGF1dG87DQogIG1hcmdpbi1ib3R0b206IDFyZW07DQogIHBhZGRpbmc6IDFyZW07DQogIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsNCiAgYm94LXNoYWRvdzogMCAwLjNyZW0gMC4xcmVtIC0wLjJyZW0gcmdiYSgwLDAsMCwuMiksMCAwLjJyZW0gMC4ycmVtIDAgcmdiYSgwLDAsMCwuMTQpLDAgMC4xcmVtIDAuNXJlbSAwIHJnYmEoMCwwLDAsLjEyKTsNCiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCAiSGVsdmV0aWNhIE5ldWUiLCBBcmlhbCwgc2Fucy1zZXJpZiwgIkFwcGxlIENvbG9yIEVtb2ppIiwgIlNlZ29lIFVJIEVtb2ppIiwgIlNlZ29lIFVJIFN5bWJvbCI7DQogIGZvbnQtc2l6ZTogMS4xcmVtOw0KfQ0KDQojd2VsY29tZXsNCiAgcGFkZGluZy10b3A6IDFyZW07DQogIHBhZGRpbmctYm90dG9tOiAycmVtOw0KfQ0KDQojc2VhcmNoLW1lc3NhZ2V7DQogIHBhZGRpbmctdG9wOiAwcmVtOw0KICBwYWRkaW5nLWJvdHRvbTogMXJlbTsNCn0NCg0KZm9ybXsNCiAgbWFyZ2luLWxlZnQ6IDJyZW07DQogIG1hcmdpbi1yaWdodDogMnJlbTsNCn0NCg0KI2lucHV0LXNlYXJjaCB7DQogIHdpZHRoOiA3MCU7DQp9DQoNCnRhYmxlLCB0aCwgdGQgew0KICBib3JkZXI6IDAuMXJlbSBzb2xpZCAjNTQ1MDUwOw0KICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOw0KfQ0KdGFibGUgew0KICBtYXJnaW4tbGVmdDogMnJlbTsNCiAgbWFyZ2luLXJpZ2h0OiAycmVtOw0KICBib3gtc2hhZG93OiAwIDAuM3JlbSAwLjFyZW0gLTAuMnJlbSByZ2JhKDAsMCwwLC4yKSwwIDAuMnJlbSAwLjJyZW0gMCByZ2JhKDAsMCwwLC4xNCksMCAwLjFyZW0gMC41cmVtIDAgcmdiYSgwLDAsMCwuMTIpOw0KfQ0KdGQsIHRoew0KICBwYWRkaW5nOiAxcmVtOw0KfQ0KDQp0aCB7DQogIGhlaWdodDogNHJlbTsNCiAgd2lkdGg6IG1heC1jb250ZW50Ow0KfQ0KDQp0YWJsZSB0cjpudGgtY2hpbGQoZXZlbil7DQogIGJhY2tncm91bmQ6IHdoaXRlOw0KfQ0KDQp0YWJsZSB0cjpudGgtY2hpbGQoZXZlbik6aG92ZXJ7DQogIGJhY2tncm91bmQ6ICNmMWYxZjE7DQp9DQoNCnRhYmxlIHRyOm50aC1jaGlsZChvZGQpew0KICBiYWNrZ3JvdW5kOiBnYWluc2Jvcm87DQp9DQp0YWJsZSB0cjpudGgtY2hpbGQob2RkKTpob3ZlcnsNCiAgYmFja2dyb3VuZDogI2YxZjFmMTsNCn0NCg0KdGFibGUgdHI6Zmlyc3QtY2hpbGR7DQogIGJhY2tncm91bmQ6ICNjMGY0Zjg7DQp9DQp0YWJsZSB0cjpmaXJzdC1jaGlsZDpob3ZlcnsNCiAgYmFja2dyb3VuZDogI2MwZjRmODsNCn0NCg0K"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <main>\r\n    <h2 id=\"welcome\">{{ welcomeMessage }}</h2>\r\n    <form role=\"search\" class=\"search-form\" @submit.prevent=\"search()\">\r\n      <input\r\n          id=\"input-search\"\r\n          class=\"search\"\r\n          type=\"search\"\r\n          v-model.trim=\"query\"\r\n          placeholder=\"Search the collection\"\r\n          aria-labelledby=\"search-button\"\r\n      />\r\n      <input\r\n          id=\"input-limit\"\r\n          class=\"search\"\r\n          type=\"number\"\r\n          v-model.trim=\"limit\"\r\n          placeholder=\"enter limit\"\r\n          aria-labelledby=\"search-button\"\r\n      />\r\n      <button class=\"search\" v-on:click=\"search()\" type=\"submit\" id=\"search-button\">Search</button>\r\n    </form>\r\n\r\n    <h3 id=\"search-message\">{{ searchMessage }}</h3>\r\n    <section v-if=\"showTable\" class=\"texts\">\r\n      <table>\r\n        <tr>\r\n          <th>Title</th>\r\n          <th>Label</th>\r\n          <th>Associated Keywords</th>\r\n          <th>Date of Creation</th>\r\n          <th>Authors</th>\r\n        </tr>\r\n        <tr v-for=\"passage in passages\" :key=\"passage.legacy_id\" :passage=\"passage\">\r\n          <td>\r\n            <router-link class=\"nav-link\" :to=\"'details/' +getPassageId(passage)\">{{ passage.text.title }}</router-link>\r\n          </td>\r\n          <!--          <td><button v-if=\"passage\" :onclick=this.openNewWindow(JSON.stringify(this.getPassageId(passage))) class=\"linkDetails\">{{passage.text.title}}</button> </td>-->\r\n          <td> {{ getLabel(passage) }}</td>\r\n          <td>\r\n            {{ getKeywords(passage) }}\r\n          </td>\r\n          <td>{{ getFullDate(passage) }}</td>\r\n          <td>{{ getAuthor(passage) }}</td>\r\n        </tr>\r\n      </table>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport * as OEAWService from \"@/services/OEAWService\";\r\n\r\nconst WELCOME_MESSAGE = \"Search our collection of medieval manuscipts here!\"\r\nconst DEFAULT_MESSAGE = \"Nothing to search for - yet.\";\r\n\r\nexport default {\r\n  name: \"Search\",\r\n\r\n  data() {\r\n    return {\r\n      query: \"\",\r\n      limit: null,\r\n      showTable: false,\r\n      searchMessage: DEFAULT_MESSAGE,\r\n      welcomeMessage: WELCOME_MESSAGE,\r\n      passages: [],\r\n      passageElements: [],\r\n      next: \"\",\r\n      previous: \"\"\r\n    };\r\n  }\r\n  , computed: {},\r\n  methods: {\r\n    search() {\r\n      this.showTable = false;\r\n      this.passages = [];\r\n\r\n      if (this.query) {\r\n        this.searchMessage = `Searching for “${this.query}”`;\r\n      } else {\r\n        this.searchMessage = DEFAULT_MESSAGE;\r\n      }\r\n      this.validateLimit();\r\n      OEAWService.getPassages(this.query, this.limit).then(passages => {\r\n        console.log(\"called service\");\r\n        this.passages = passages.results;\r\n\r\n\r\n        this.next = passages.next;\r\n        this.previous = passages.previous;\r\n        console.log(this.passages);\r\n        if (this.passages.length > 0) {\r\n          this.showTable = true;\r\n        }\r\n        if (this.query) {\r\n          const s = this.passages.length == 1 ? \"\" : \"s\";\r\n          this.searchMessage = `Found passage${s} for “${this.query}”`;\r\n        }\r\n      });\r\n    },\r\n    validateLimit(){\r\n      if(this.limit == null){\r\n        this.limit = 20;\r\n      }\r\n    },\r\n    getLabel(passage) {\r\n      if (passage != null) {\r\n        return passage.display_label;\r\n      }\r\n      return \"\";\r\n    },\r\n    getKeywords(passage) {\r\n      if (passage) {\r\n        return passage.key_word.map(x => \" \" + x.stichwort).toString();\r\n      }\r\n      return \"\";\r\n    },\r\n    getFullDate(passage) {\r\n      return passage.text.start_date + \" to \" + passage.text.end_date;\r\n    },\r\n    getAuthor(passage) {\r\n      console.log(\"getAuthor()\");\r\n      console.log(passage);\r\n      OEAWService.getAuthor(passage.text.autor[0]).then(author => {\r\n        console.log(author);\r\n        console.log(author.name);\r\n        return author.name;\r\n      });\r\n    },\r\n    getPassageId(passage) {\r\n      let url = passage.url;\r\n      let slashBeforeIdIdx = url.substring(0, url.length - 1).lastIndexOf('/');\r\n      let id = url.substring(slashBeforeIdIdx + 1, url.length);\r\n      return id;\r\n    },\r\n    openNewWindow(passage) {\r\n      console.log(\"openNewWindow()\");\r\n      let obj = JSON.parse(decodeURIComponent(passage))\r\n      if (obj) {\r\n        console.log(obj)\r\n        console.log(window.location.href + 'details/' + obj);\r\n        window.open(window.location.href + 'details/' + obj);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\nmain{\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n  font-size: 1.1rem;\r\n}\r\n.search {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin: auto;\r\n  margin-bottom: 1rem;\r\n  padding: 1rem;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 0.3rem 0.1rem -0.2rem rgba(0,0,0,.2),0 0.2rem 0.2rem 0 rgba(0,0,0,.14),0 0.1rem 0.5rem 0 rgba(0,0,0,.12);\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n  font-size: 1.1rem;\r\n}\r\n\r\n#welcome{\r\n  padding-top: 1rem;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n#search-message{\r\n  padding-top: 0rem;\r\n  padding-bottom: 1rem;\r\n}\r\n\r\nform{\r\n  margin-left: 2rem;\r\n  margin-right: 2rem;\r\n}\r\n\r\n#input-search {\r\n  width: 70%;\r\n}\r\n\r\ntable, th, td {\r\n  border: 0.1rem solid #545050;\r\n  border-collapse: collapse;\r\n}\r\ntable {\r\n  margin-left: 2rem;\r\n  margin-right: 2rem;\r\n  box-shadow: 0 0.3rem 0.1rem -0.2rem rgba(0,0,0,.2),0 0.2rem 0.2rem 0 rgba(0,0,0,.14),0 0.1rem 0.5rem 0 rgba(0,0,0,.12);\r\n}\r\ntd, th{\r\n  padding: 1rem;\r\n}\r\n\r\nth {\r\n  height: 4rem;\r\n  width: max-content;\r\n}\r\n\r\ntable tr:nth-child(even){\r\n  background: white;\r\n}\r\n\r\ntable tr:nth-child(even):hover{\r\n  background: #f1f1f1;\r\n}\r\n\r\ntable tr:nth-child(odd){\r\n  background: gainsboro;\r\n}\r\ntable tr:nth-child(odd):hover{\r\n  background: #f1f1f1;\r\n}\r\n\r\ntable tr:first-child{\r\n  background: #c0f4f8;\r\n}\r\ntable tr:first-child:hover{\r\n  background: #c0f4f8;\r\n}\r\n\r\n</style>\r\n"]}]}