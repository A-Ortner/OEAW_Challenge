{"remainingRequest":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\src\\components\\Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\src\\components\\Search.vue","mtime":1617975685294},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBPRUFXU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL09FQVdTZXJ2aWNlIjsNCg0KY29uc3QgREVGQVVMVF9NRVNTQUdFID0gIlNlYXJjaCBvdXIgY29sbGVjdGlvbi4iOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTZWFyY2giLA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHF1ZXJ5OiAiIiwNCiAgICAgIHNob3dUYWJsZTogZmFsc2UsDQogICAgICBzZWFyY2hNZXNzYWdlOiBERUZBVUxUX01FU1NBR0UsDQogICAgICBwYXNzYWdlczogW10NCiAgICB9Ow0KICB9DQogICxjb21wdXRlZDp7fSwNCiAgbWV0aG9kczogew0KICAgIHNlYXJjaCgpew0KICAgICAgdGhpcy5zaG93VGFibGUgPSB0cnVlOw0KDQogICAgICB0aGlzLnBhc3NhZ2VzID0gW107DQoNCiAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7DQogICAgICAgIHRoaXMuc2VhcmNoTWVzc2FnZSA9IGBTZWFyY2hpbmcgZm9yIOKAnCR7dGhpcy5xdWVyeX3igJ1gOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zZWFyY2hNZXNzYWdlID0gREVGQVVMVF9NRVNTQUdFOw0KICAgICAgfQ0KDQogICAgICBPRUFXU2VydmljZS5nZXRQYXNzYWdlcyh0aGlzLnF1ZXJ5LCAyMCkudGhlbihwYXNzYWdlcyA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJjYWxsZWQgc2VydmljZSIpOw0KICAgICAgICB0aGlzLnBhc3NhZ2VzID0gcGFzc2FnZXMucmVzdWx0czsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXNzYWdlcyk7DQogICAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7DQogICAgICAgICAgY29uc3QgcyA9IHRoaXMucGFzc2FnZXMubGVuZ3RoID09IDEgPyAiIiA6ICJzIjsNCiAgICAgICAgICB0aGlzLnNlYXJjaE1lc3NhZ2UgPSBgRm91bmQgJHt0aGlzLnBhc3NhZ2VzLmxlbmd0aH0gcGFzc2FnZSR7c30gZm9yIOKAnCR7dGhpcy5xdWVyeX3igJ1gOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldExhYmVsKHBhc3NhZ2Upew0KICAgICAgaWYocGFzc2FnZSE9bnVsbCl7DQogICAgICAgIHJldHVybiBwYXNzYWdlLmRpc3BsYXlfbGFiZWw7DQogICAgICB9DQogICAgICByZXR1cm4gIiI7DQogICAgfSwNCiAgICBnZXRLZXl3b3JkcyhwYXNzYWdlKXsNCiAgICAgIGNvbnNvbGUubG9nKHBhc3NhZ2UpDQogICAgICBpZihwYXNzYWdlKXsNCiAgICAgICAgcmV0dXJuIHBhc3NhZ2Uua2V5X3dvcmQubWFwKHggPT4geC5zdGljaHdvcnQpLnRvU3RyaW5nKCk7DQogICAgICB9DQogICAgICByZXR1cm4gIiI7DQogICAgfSwNCiAgICBnZXRGdWxsRGF0ZShwYXNzYWdlKXsNCiAgICAgIHJldHVybiBwYXNzYWdlLnRleHQuc3RhcnRfZGF0ZSArICIgdG8gIiArIHBhc3NhZ2UudGV4dC5lbmRfZGF0ZTsNCiAgICB9LA0KICAgIGdldEF1dGhvcihwYXNzYWdlKXsNCiAgICAgIE9FQVdTZXJ2aWNlLmdldEF1dGhvcihwYXNzYWdlLnRleHQuYXV0aG9yKS50aGVuKGF1dGhvciA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJhdXRob3IiKTsNCiAgICAgICAgY29uc29sZS5sb2coYXV0aG9yKTsNCiAgICAgICAgcmV0dXJuIGF1dGhvcjsNCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfQ0KDQoNCg0KDQo="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <main>\r\n    <form role=\"search\" class=\"search-form\" @submit.prevent=\"search()\">\r\n      <input\r\n          type=\"search\"\r\n          v-model.trim=\"query\"\r\n          placeholder=\"Search the collection\"\r\n          aria-labelledby=\"search-button\"\r\n      />\r\n      <button v-on:click=\"search()\" type=\"submit\" id=\"search-button\">Search</button>\r\n    </form>\r\n    <p v-if=\"showTable\"> {{query}}</p>\r\n    <h2 class=\"search-info\">{{ searchMessage }}</h2>\r\n    <section v-if=\"showTable\" class=\"texts\">\r\n      <table>\r\n        <tr>\r\n          <th>Title</th>\r\n          <th>Label</th>\r\n          <th>Associated Keywords</th>\r\n          <th>Date of Creation</th>\r\n          <th>Authors</th>\r\n        </tr>\r\n        <tr v-for=\"passage in passages\" :key=\"passage.legacy_id\" :passage=\"passage\">\r\n          <td> {{passage.text.title}}</td>\r\n          <td> {{getLabel(passage)}}</td>\r\n          <td>\r\n            {{getKeywords(passage)}}\r\n          </td>\r\n          <td>{{getFullDate(passage)}}</td>\r\n         <td>author: x </td> <!--  {{ getAuthor(passage)}}-->\r\n        </tr>\r\n      </table>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport * as OEAWService from \"@/services/OEAWService\";\r\n\r\nconst DEFAULT_MESSAGE = \"Search our collection.\";\r\n\r\nexport default {\r\n  name: \"Search\",\r\n\r\n  data() {\r\n    return {\r\n      query: \"\",\r\n      showTable: false,\r\n      searchMessage: DEFAULT_MESSAGE,\r\n      passages: []\r\n    };\r\n  }\r\n  ,computed:{},\r\n  methods: {\r\n    search(){\r\n      this.showTable = true;\r\n\r\n      this.passages = [];\r\n\r\n      if (this.query) {\r\n        this.searchMessage = `Searching for “${this.query}”`;\r\n      } else {\r\n        this.searchMessage = DEFAULT_MESSAGE;\r\n      }\r\n\r\n      OEAWService.getPassages(this.query, 20).then(passages => {\r\n        console.log(\"called service\");\r\n        this.passages = passages.results;\r\n        console.log(this.passages);\r\n        if (this.query) {\r\n          const s = this.passages.length == 1 ? \"\" : \"s\";\r\n          this.searchMessage = `Found ${this.passages.length} passage${s} for “${this.query}”`;\r\n        }\r\n      });\r\n    },\r\n    getLabel(passage){\r\n      if(passage!=null){\r\n        return passage.display_label;\r\n      }\r\n      return \"\";\r\n    },\r\n    getKeywords(passage){\r\n      console.log(passage)\r\n      if(passage){\r\n        return passage.key_word.map(x => x.stichwort).toString();\r\n      }\r\n      return \"\";\r\n    },\r\n    getFullDate(passage){\r\n      return passage.text.start_date + \" to \" + passage.text.end_date;\r\n    },\r\n    getAuthor(passage){\r\n      OEAWService.getAuthor(passage.text.author).then(author => {\r\n        console.log(\"author\");\r\n        console.log(author);\r\n        return author;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}