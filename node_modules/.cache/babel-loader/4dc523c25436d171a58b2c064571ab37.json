{"remainingRequest":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\src\\components\\Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\src\\components\\Search.vue","mtime":1617975685294},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrea\\Documents\\Dateien\\Bewerbungen_Dokumente\\Jobs\\ÖAW\\Challenge\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgT0VBV1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9PRUFXU2VydmljZSI7CmNvbnN0IERFRkFVTFRfTUVTU0FHRSA9ICJTZWFyY2ggb3VyIGNvbGxlY3Rpb24uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWFyY2giLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnk6ICIiLAogICAgICBzaG93VGFibGU6IGZhbHNlLAogICAgICBzZWFyY2hNZXNzYWdlOiBERUZBVUxUX01FU1NBR0UsCiAgICAgIHBhc3NhZ2VzOiBbXQogICAgfTsKICB9LAoKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgc2VhcmNoKCkgewogICAgICB0aGlzLnNob3dUYWJsZSA9IHRydWU7CiAgICAgIHRoaXMucGFzc2FnZXMgPSBbXTsKCiAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7CiAgICAgICAgdGhpcy5zZWFyY2hNZXNzYWdlID0gYFNlYXJjaGluZyBmb3Ig4oCcJHt0aGlzLnF1ZXJ5feKAnWA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2hNZXNzYWdlID0gREVGQVVMVF9NRVNTQUdFOwogICAgICB9CgogICAgICBPRUFXU2VydmljZS5nZXRQYXNzYWdlcyh0aGlzLnF1ZXJ5LCAyMCkudGhlbihwYXNzYWdlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coImNhbGxlZCBzZXJ2aWNlIik7CiAgICAgICAgdGhpcy5wYXNzYWdlcyA9IHBhc3NhZ2VzLnJlc3VsdHM7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXNzYWdlcyk7CgogICAgICAgIGlmICh0aGlzLnF1ZXJ5KSB7CiAgICAgICAgICBjb25zdCBzID0gdGhpcy5wYXNzYWdlcy5sZW5ndGggPT0gMSA/ICIiIDogInMiOwogICAgICAgICAgdGhpcy5zZWFyY2hNZXNzYWdlID0gYEZvdW5kICR7dGhpcy5wYXNzYWdlcy5sZW5ndGh9IHBhc3NhZ2Uke3N9IGZvciDigJwke3RoaXMucXVlcnl94oCdYDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRMYWJlbChwYXNzYWdlKSB7CiAgICAgIGlmIChwYXNzYWdlICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gcGFzc2FnZS5kaXNwbGF5X2xhYmVsOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAoKICAgIGdldEtleXdvcmRzKHBhc3NhZ2UpIHsKICAgICAgY29uc29sZS5sb2cocGFzc2FnZSk7CgogICAgICBpZiAocGFzc2FnZSkgewogICAgICAgIHJldHVybiBwYXNzYWdlLmtleV93b3JkLm1hcCh4ID0+IHguc3RpY2h3b3J0KS50b1N0cmluZygpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9LAoKICAgIGdldEZ1bGxEYXRlKHBhc3NhZ2UpIHsKICAgICAgcmV0dXJuIHBhc3NhZ2UudGV4dC5zdGFydF9kYXRlICsgIiB0byAiICsgcGFzc2FnZS50ZXh0LmVuZF9kYXRlOwogICAgfSwKCiAgICBnZXRBdXRob3IocGFzc2FnZSkgewogICAgICBPRUFXU2VydmljZS5nZXRBdXRob3IocGFzc2FnZS50ZXh0LmF1dGhvcikudGhlbihhdXRob3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJhdXRob3IiKTsKICAgICAgICBjb25zb2xlLmxvZyhhdXRob3IpOwogICAgICAgIHJldHVybiBhdXRob3I7CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,WAAA,MAAA,wBAAA;AAEA,MAAA,eAAA,GAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;;AAGA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,aAAA,EAAA,eAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAVA;;AAWA,EAAA,QAAA,EAAA,EAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AACA,WAAA,SAAA,GAAA,IAAA;AAEA,WAAA,QAAA,GAAA,EAAA;;AAEA,UAAA,KAAA,KAAA,EAAA;AACA,aAAA,aAAA,GAAA,kBAAA,KAAA,KAAA,GAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA,GAAA,eAAA;AACA;;AAEA,MAAA,WAAA,CAAA,WAAA,CAAA,KAAA,KAAA,EAAA,EAAA,EAAA,IAAA,CAAA,QAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,aAAA,QAAA,GAAA,QAAA,CAAA,OAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,QAAA;;AACA,YAAA,KAAA,KAAA,EAAA;AACA,gBAAA,CAAA,GAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,GAAA,EAAA,GAAA,GAAA;AACA,eAAA,aAAA,GAAA,SAAA,KAAA,QAAA,CAAA,MAAA,WAAA,CAAA,SAAA,KAAA,KAAA,GAAA;AACA;AACA,OARA;AASA,KArBA;;AAsBA,IAAA,QAAA,CAAA,OAAA,EAAA;AACA,UAAA,OAAA,IAAA,IAAA,EAAA;AACA,eAAA,OAAA,CAAA,aAAA;AACA;;AACA,aAAA,EAAA;AACA,KA3BA;;AA4BA,IAAA,WAAA,CAAA,OAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA;;AACA,UAAA,OAAA,EAAA;AACA,eAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAAA,SAAA,EAAA,QAAA,EAAA;AACA;;AACA,aAAA,EAAA;AACA,KAlCA;;AAmCA,IAAA,WAAA,CAAA,OAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,UAAA,GAAA,MAAA,GAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,KArCA;;AAsCA,IAAA,SAAA,CAAA,OAAA,EAAA;AACA,MAAA,WAAA,CAAA,SAAA,CAAA,OAAA,CAAA,IAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,eAAA,MAAA;AACA,OAJA;AAKA;;AA5CA;AAZA,CAAA","sourcesContent":["<template>\r\n  <main>\r\n    <form role=\"search\" class=\"search-form\" @submit.prevent=\"search()\">\r\n      <input\r\n          type=\"search\"\r\n          v-model.trim=\"query\"\r\n          placeholder=\"Search the collection\"\r\n          aria-labelledby=\"search-button\"\r\n      />\r\n      <button v-on:click=\"search()\" type=\"submit\" id=\"search-button\">Search</button>\r\n    </form>\r\n    <p v-if=\"showTable\"> {{query}}</p>\r\n    <h2 class=\"search-info\">{{ searchMessage }}</h2>\r\n    <section v-if=\"showTable\" class=\"texts\">\r\n      <table>\r\n        <tr>\r\n          <th>Title</th>\r\n          <th>Label</th>\r\n          <th>Associated Keywords</th>\r\n          <th>Date of Creation</th>\r\n          <th>Authors</th>\r\n        </tr>\r\n        <tr v-for=\"passage in passages\" :key=\"passage.legacy_id\" :passage=\"passage\">\r\n          <td> {{passage.text.title}}</td>\r\n          <td> {{getLabel(passage)}}</td>\r\n          <td>\r\n            {{getKeywords(passage)}}\r\n          </td>\r\n          <td>{{getFullDate(passage)}}</td>\r\n         <td>author: x </td> <!--  {{ getAuthor(passage)}}-->\r\n        </tr>\r\n      </table>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport * as OEAWService from \"@/services/OEAWService\";\r\n\r\nconst DEFAULT_MESSAGE = \"Search our collection.\";\r\n\r\nexport default {\r\n  name: \"Search\",\r\n\r\n  data() {\r\n    return {\r\n      query: \"\",\r\n      showTable: false,\r\n      searchMessage: DEFAULT_MESSAGE,\r\n      passages: []\r\n    };\r\n  }\r\n  ,computed:{},\r\n  methods: {\r\n    search(){\r\n      this.showTable = true;\r\n\r\n      this.passages = [];\r\n\r\n      if (this.query) {\r\n        this.searchMessage = `Searching for “${this.query}”`;\r\n      } else {\r\n        this.searchMessage = DEFAULT_MESSAGE;\r\n      }\r\n\r\n      OEAWService.getPassages(this.query, 20).then(passages => {\r\n        console.log(\"called service\");\r\n        this.passages = passages.results;\r\n        console.log(this.passages);\r\n        if (this.query) {\r\n          const s = this.passages.length == 1 ? \"\" : \"s\";\r\n          this.searchMessage = `Found ${this.passages.length} passage${s} for “${this.query}”`;\r\n        }\r\n      });\r\n    },\r\n    getLabel(passage){\r\n      if(passage!=null){\r\n        return passage.display_label;\r\n      }\r\n      return \"\";\r\n    },\r\n    getKeywords(passage){\r\n      console.log(passage)\r\n      if(passage){\r\n        return passage.key_word.map(x => x.stichwort).toString();\r\n      }\r\n      return \"\";\r\n    },\r\n    getFullDate(passage){\r\n      return passage.text.start_date + \" to \" + passage.text.end_date;\r\n    },\r\n    getAuthor(passage){\r\n      OEAWService.getAuthor(passage.text.author).then(author => {\r\n        console.log(\"author\");\r\n        console.log(author);\r\n        return author;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}